{% extends "layout.html" %}

{% block body %}
<div class="container mt-4">
    
    <div class="mb-3 text-center">
        <a href="{{ url_for('deck_detail', deck_id=deck.id) }}" class="text-decoration-none text-muted">Ã‡alÄ±ÅŸmayÄ± Bitir ve DÃ¶n</a>
    </div>

    {% if isFinished %}
        <div class="card shadow text-center p-5 border-0">
            <div class="card-body">
                <h1 class="display-1 mb-4">ğŸ‰</h1>
                <h2 class="card-title text-success">Harika Ä°ÅŸ Ã‡Ä±kardÄ±n!</h2>
                <p class="lead text-muted">BugÃ¼nlÃ¼k Ã§alÄ±ÅŸman gereken tÃ¼m kartlarÄ± tamamladÄ±n.</p>
                <hr>
                <a href="{{ url_for('index') }}" class="btn btn-primary btn-lg mt-3">Ana Sayfaya DÃ¶n</a>
            </div>
        </div>

    {% else %}
        <div class="row justify-content-center">
            <div class="col-md-8">
                
                <div class="card shadow-lg border-0 text-center" style="min-height: 400px;">
                    
                    <div class="card-header bg-white border-bottom-0 pt-4">
                        <span class="badge bg-info text-dark">Kutu Seviyesi: {{ card.box }}</span>
                        <h5 class="text-muted mt-2">{{ deck.name }}</h5>
                    </div>

                    <div class="card-body d-flex flex-column justify-content-center align-items-center">
                        
                        <h1 class="display-4 fw-bold text-primary mb-4">{{ card.front }}</h1>
                        
                        <div id="answer-div" style="display: none; width: 100%;">
                            <hr class="w-50 mx-auto mb-4">
                            <h2 class="text-success mb-5">{{ card.back }}</h2>
                            
                            <p class="text-muted mb-3">HatÄ±rladÄ±n mÄ±?</p>
                            
                            <div class="d-flex justify-content-center gap-3">
                                <a href="{{ url_for('review_card', deck_id=deck.id, card_id=card.id, action='fail') }}" class="btn btn-danger btn-lg px-4">
                                    âŒ HatÄ±rlamadÄ±m
                                </a>
                                <a href="{{ url_for('review_card', deck_id=deck.id, card_id=card.id, action='success') }}" class="btn btn-success btn-lg px-4">
                                    âœ… HatÄ±rladÄ±m
                                </a>
                            </div>
                        </div>

                        <button onclick="showAnswer()" id="show-btn" class="btn btn-outline-dark btn-lg mt-4 px-5">
                            CevabÄ± GÃ¶ster ğŸ‘ï¸
                        </button>

                    </div>
                </div>

            </div>
        </div>
    {% endif %}

</div>

<script>
    function showAnswer() {
        // Cevap alanÄ±nÄ± aÃ§ (slide efekti olmadan direkt gÃ¶rÃ¼nÃ¼r yapar)
        document.getElementById('answer-div').style.display = 'block';
        // Butonu gizle
        document.getElementById('show-btn').style.display = 'none';
    }
</script>
{% endblock %}